plugins {
  id 'java-library'
  alias libs.plugins.spring.boot
  alias libs.plugins.spring.dependencies
  id 'cz.habarta.typescript-generator' version '3.1.1185'
}

bootJar {
  enabled = false
}

dependencies {
  api 'org.springframework.boot:spring-boot-starter-validation'
  api 'org.springdoc:springdoc-openapi-starter-webmvc-api:2.0.2'
  api 'org.projectlombok:lombok'
  annotationProcessor 'org.projectlombok:lombok'
  api 'org.passay:passay:1.6.2'
}

generateTypeScript {
  jsonLibrary = 'jackson2'
  outputKind = 'module'
  outputFileType = 'implementationFile'
  outputFile = 'src/gen/typescript/index.ts'
  noFileComment = true
  nullableAnnotations = [
    'no.ntnu.webshop.contracts.utility.annotation.Nullable'
  ]
  classesWithAnnotations = [
    'no.ntnu.webshop.contracts.utility.annotation.GenerateTypeScript'
  ]
}
